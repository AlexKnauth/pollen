5896
((3) 0 () 8 ((q lib "pollen/world.rkt") (q lib "pollen/pagetree.rkt") (q lib "pollen/decode.rkt") (q lib "pollen/file.rkt") (q lib "pollen/template.rkt") (q lib "pollen/cache.rkt") (q lib "pollen/render.rkt") (q lib "pollen/top.rkt")) () (h ! (equal) ((c def c (c (? . 0) q world:pagetree-source-ext)) q (9375 . 2)) ((c def c (c (? . 4) q select)) q (7838 . 4)) ((c def c (c (? . 5) q current-cache)) q (0 . 4)) ((c def c (c (? . 1) q pagetree->list)) q (6265 . 3)) ((c def c (c (? . 2) q smart-quotes)) q (2337 . 3)) ((c def c (c (? . 6) q render-to-file)) q (6694 . 7)) ((c def c (c (? . 0) q world:mode-preproc)) q (9596 . 2)) ((c def c (c (? . 1) q next)) q (5966 . 4)) ((c def c (c (? . 3) q has-preproc-source?)) q (3661 . 3)) ((c def c (c (? . 0) q world:markdown-source-ext)) q (9291 . 2)) ((c def c (c (? . 0) q world:paragraph-separator)) q (10074 . 2)) ((c def c (c (? . 2) q smart-dashes)) q (2400 . 3)) ((c def c (c (? . 0) q world:dashboard-css)) q (10118 . 2)) ((c def c (c (? . 0) q world:server-extras-dir)) q (9039 . 2)) ((c def c (c (? . 1) q previous)) q (5659 . 4)) ((c def c (c (? . 3) q ->template-source-path)) q (4455 . 3)) ((c def c (c (? . 1) q children)) q (5363 . 4)) ((c def c (c (? . 2) q whitespace/nbsp?)) q (2275 . 3)) ((c def c (c (? . 4) q ->html)) q (7778 . 3)) ((c def c (c (? . 0) q world:project-require)) q (8848 . 2)) ((c def c (c (? . 3) q preproc-source?)) q (3296 . 3)) ((c def c (c (? . 0) q world:current-server-extras-path)) q (9081 . 4)) ((c def c (c (? . 0) q world:template-source-ext)) q (9419 . 2)) ((c def c (c (? . 5) q reset-cache)) q (279 . 2)) ((c def c (c (? . 2) q whitespace?)) q (2218 . 3)) ((c def c (c (? . 1) q siblings)) q (5511 . 4)) ((c def c (c (? . 4) q select*)) q (7997 . 4)) ((c def c (c (? . 2) q detect-linebreaks)) q (2463 . 8)) ((c def c (c (? . 0) q world:main-pollen-export)) q (8762 . 2)) ((c def c (c (? . 0) q world:default-pagetree)) q (9745 . 2)) ((c def c (c (? . 0) q world:meta-pollen-export)) q (8805 . 2)) ((q def ((lib "pollen/tag.rkt") make-tag-function)) q (8489 . 3)) ((c def c (c (? . 2) q register-block-tag)) q (2088 . 3)) ((c def c (c (? . 0) q world:paths-excluded-from-dashboard)) q (10156 . 2)) ((c def c (c (? . 1) q path->pagenode)) q (6478 . 3)) ((c def c (c (? . 3) q has/is-scribble-source?)) q (4253 . 3)) ((c def c (c (? . 4) q select-from-doc)) q (8329 . 4)) ((c def c (c (? . 0) q world:current-server-port)) q (8643 . 4)) ((c def c (c (? . 3) q has-template-source?)) q (3790 . 3)) ((c form c (c (? . 7) q #%top)) q (8565 . 2)) ((c def c (c (? . 3) q ->scribble-source-path)) q (4587 . 3)) ((c def c (c (? . 1) q pagetree?)) q (4714 . 3)) ((c def c (c (? . 6) q render)) q (6542 . 4)) ((c def c (c (? . 3) q has-null-source?)) q (3856 . 3)) ((c def c (c (? . 2) q decode)) q (389 . 26)) ((c def c (c (? . 3) q template-source?)) q (3417 . 3)) ((c def c (c (? . 0) q world:fallback-template)) q (9914 . 2)) ((c def c (c (? . 0) q world:check-project-requires-in-render?)) q (8888 . 4)) ((c def c (c (? . 0) q world:mode-auto)) q (9562 . 2)) ((c def c (c (? . 1) q in-pagetree?)) q (6340 . 4)) ((c def c (c (? . 0) q world:decodable-extensions)) q (9507 . 2)) ((c def c (c (? . 6) q get-template-for)) q (7669 . 3)) ((c def c (c (? . 0) q world:mode-markup)) q (9633 . 2)) ((c def c (c (? . 3) q has/is-markup-source?)) q (4052 . 3)) ((c def c (c (? . 0) q world:newline)) q (9998 . 2)) ((c def c (c (? . 1) q pagenode?)) q (4897 . 3)) ((c def c (c (? . 0) q world:mode-markdown)) q (9669 . 2)) ((c def c (c (? . 3) q null-source?)) q (3479 . 3)) ((c def c (c (? . 0) q world:linebreak-separator)) q (10030 . 2)) ((c def c (c (? . 0) q world:pagetree-root-node)) q (9786 . 2)) ((c def c (c (? . 6) q render-to-file-if-needed)) q (6976 . 9)) ((c def c (c (? . 2) q block-txexpr?)) q (2159 . 3)) ((c def c (c (? . 3) q has-scribble-source?)) q (3918 . 3)) ((c def c (c (? . 6) q render-batch)) q (7419 . 3)) ((c def c (c (? . 5) q cache-ref)) q (314 . 3)) ((c def c (c (? . 1) q next*)) q (6110 . 4)) ((c def c (c (? . 3) q pagetree-source?)) q (3599 . 3)) ((c def c (c (? . 1) q parent)) q (5217 . 4)) ((c def c (c (? . 3) q has-markup-source?)) q (3726 . 3)) ((c def c (c (? . 3) q ->null-source-path)) q (4523 . 3)) ((c def c (c (? . 5) q cached-require)) q (89 . 4)) ((c def c (c (? . 0) q world:default-template-prefix)) q (9866 . 2)) ((c def c (c (? . 2) q detect-paragraphs)) q (2789 . 11)) ((c def c (c (? . 0) q world:default-port)) q (8605 . 2)) ((c def c (c (? . 1) q pagenodeish?)) q (4984 . 3)) ((c def c (c (? . 0) q world:command-marker)) q (9829 . 2)) ((c def c (c (? . 0) q world:markup-source-ext)) q (9249 . 2)) ((c def c (c (? . 3) q ->preproc-source-path)) q (4322 . 3)) ((c def c (c (? . 2) q project-block-tags)) q (1945 . 4)) ((c def c (c (? . 1) q current-pagetree)) q (5106 . 4)) ((c def c (c (? . 0) q world:mode-pagetree)) q (9707 . 2)) ((c def c (c (? . 6) q render-pagetree)) q (7514 . 5)) ((c def c (c (? . 1) q previous*)) q (5807 . 4)) ((c def c (c (? . 4) q select-from-metas)) q (8167 . 4)) ((c def c (c (? . 3) q has/is-null-source?)) q (4188 . 3)) ((c def c (c (? . 3) q ->output-path)) q (4655 . 3)) ((c form c (c (? . 7) q def/c)) q (8586 . 2)) ((c def c (c (? . 0) q world:scribble-source-ext)) q (9463 . 2)) ((c def c (c (? . 5) q make-cache)) q (245 . 2)) ((c def c (c (? . 0) q world:template-meta-key)) q (9956 . 2)) ((c def c (c (? . 3) q has/is-preproc-source?)) q (3984 . 3)) ((c def c (c (? . 3) q scribble-source?)) q (3537 . 3)) ((c def c (c (? . 3) q ->markup-source-path)) q (4389 . 3)) ((c def c (c (? . 3) q markup-source?)) q (3357 . 3)) ((c def c (c (? . 1) q ->pagenode)) q (5042 . 3)) ((c def c (c (? . 0) q world:null-source-ext)) q (9335 . 2)) ((c def c (c (? . 3) q has/is-template-source?)) q (4119 . 3)) ((c def c (c (? . 0) q world:preproc-source-ext)) q (9206 . 2)) ((c def c (c (? . 1) q validate-pagetree)) q (4801 . 3))))
parameter
(current-cache) -> hash?
(current-cache hash) -> void?
  hash : hash?
procedure
(cached-require source-path key) -> (or/c txexpr? hash? integer?)
  source-path : pathish?
  key : (or/c 'doc 'metas 'mod-time)
procedure
(make-cache) -> hash?
procedure
(reset-cache) -> void?
procedure
(cache-ref source-path) -> hash?
  source-path : pathish?
procedure
(decode  tagged-xexpr                                    
        [#:txexpr-tag-proc txexpr-tag-proc               
         #:txexpr-attrs-proc txexpr-attrs-proc           
         #:txexpr-elements-proc txexpr-elements-proc     
         #:block-txexpr-proc block-txexpr-proc           
         #:inline-txexpr-proc inline-txexpr-proc         
         #:string-proc string-proc                       
         #:symbol-proc symbol-proc                       
         #:valid-char-proc valid-char-proc               
         #:cdata-proc cdata-proc                         
         #:exclude-tags tags-to-exclude])            -> txexpr?
  tagged-xexpr : txexpr?
  txexpr-tag-proc : (txexpr-tag? . -> . txexpr-tag?)
                  = (λ(tag) tag)
  txexpr-attrs-proc : (txexpr-attrs? . -> . txexpr-attrs?)
                    = (λ(attrs) attrs)
  txexpr-elements-proc : (txexpr-elements? . -> . txexpr-elements?)
                       = (λ(elements) elements)
  block-txexpr-proc : (block-txexpr? . -> . xexpr?) = (λ(tx) tx)
  inline-txexpr-proc : (txexpr? . -> . xexpr?) = (λ(tx) tx)
  string-proc : (string? . -> . xexpr?) = (λ(str) str)
  symbol-proc : (symbol? . -> . xexpr?) = (λ(sym) sym)
  valid-char-proc : (valid-char? . -> . xexpr?) = (λ(vc) vc)
  cdata-proc : (cdata? . -> . xexpr?) = (λ(cdata) cdata)
  tags-to-exclude : (listof symbol?) = null
parameter
(project-block-tags) -> (listof txexpr-tag?)
(project-block-tags block-tags) -> void?
  block-tags : (listof txexpr-tag?)
procedure
(register-block-tag tag) -> void?
  tag : txexpr-tag?
procedure
(block-txexpr? v) -> boolean?
  v : any/c
procedure
(whitespace? v) -> boolean?
  v : any/c
procedure
(whitespace/nbsp? v) -> boolean?
  v : any/c
procedure
(smart-quotes str) -> string?
  str : string?
procedure
(smart-dashes str) -> string?
  str : string?
procedure
(detect-linebreaks  tagged-xexpr-elements     
                   [#:separator linebreak-sep 
                    #:insert linebreak])      
 -> txexpr-elements?
  tagged-xexpr-elements : txexpr-elements?
  linebreak-sep : string? = world:linebreak-separator
  linebreak : xexpr? = '(br)
procedure
(detect-paragraphs  elements                          
                   [#:separator paragraph-sep         
                    #:tag paragraph-tag               
                    #:linebreak-proc linebreak-proc]) 
 -> txexpr-elements?
  elements : txexpr-elements?
  paragraph-sep : string? = world:paragraph-separator
  paragraph-tag : symbol? = 'p
  linebreak-proc : (txexpr-elements? . -> . txexpr-elements?)
                 = detect-linebreaks
procedure
(preproc-source? v) -> boolean?
  v : any/c
procedure
(markup-source? v) -> boolean?
  v : any/c
procedure
(template-source? v) -> boolean?
  v : any/c
procedure
(null-source? v) -> boolean?
  v : any/c
procedure
(scribble-source? v) -> boolean?
  v : any/c
procedure
(pagetree-source? v) -> boolean?
  v : any/c
procedure
(has-preproc-source? v) -> boolean?
  v : any/c
procedure
(has-markup-source? v) -> boolean?
  v : any/c
procedure
(has-template-source? v) -> boolean?
  v : any/c
procedure
(has-null-source? v) -> boolean?
  v : any/c
procedure
(has-scribble-source? v) -> boolean?
  v : any/c
procedure
(has/is-preproc-source? v) -> boolean?
  v : any/c
procedure
(has/is-markup-source? v) -> boolean?
  v : any/c
procedure
(has/is-template-source? v) -> boolean?
  v : any/c
procedure
(has/is-null-source? v) -> boolean?
  v : any/c
procedure
(has/is-scribble-source? v) -> boolean?
  v : any/c
procedure
(->preproc-source-path p) -> path?
  p : pathish?
procedure
(->markup-source-path p) -> path?
  p : pathish?
procedure
(->template-source-path p) -> path?
  p : pathish?
procedure
(->null-source-path p) -> path?
  p : pathish?
procedure
(->scribble-source-path p) -> path?
  p : pathish?
procedure
(->output-path p) -> path?
  p : pathish?
procedure
(pagetree? possible-pagetree) -> boolean?
  possible-pagetree : any/c
procedure
(validate-pagetree possible-pagetree) -> pagetree?
  possible-pagetree : any/c
procedure
(pagenode? possible-pagenode) -> boolean?
  possible-pagenode : any/c
procedure
(pagenodeish? v) -> boolean?
  v : any/c
procedure
(->pagenode v) -> pagenode?
  v : pagenodeish?
parameter
(current-pagetree) -> pagetree?
(current-pagetree pagetree) -> void?
  pagetree : pagetree?
procedure
(parent p [pagetree]) -> (or/c #f pagenode?)
  p : (or/c #f pagenodeish?)
  pagetree : pagetree? = (current-pagetree)
procedure
(children p [pagetree]) -> (or/c #f pagenode?)
  p : (or/c #f pagenodeish?)
  pagetree : pagetree? = (current-pagetree)
procedure
(siblings p [pagetree]) -> (or/c #f pagenode?)
  p : (or/c #f pagenodeish?)
  pagetree : pagetree? = (current-pagetree)
procedure
(previous p [pagetree]) -> (or/c #f pagenode?)
  p : (or/c #f pagenodeish?)
  pagetree : pagetree? = (current-pagetree)
procedure
(previous* p [pagetree]) -> (or/c #f (listof pagenode?))
  p : (or/c #f pagenodeish?)
  pagetree : pagetree? = (current-pagetree)
procedure
(next p [pagetree]) -> (or/c #f pagenode?)
  p : (or/c #f pagenodeish?)
  pagetree : pagetree? = (current-pagetree)
procedure
(next* p [pagetree]) -> (or/c #f (listof pagenode?))
  p : (or/c #f pagenodeish?)
  pagetree : pagetree? = (current-pagetree)
procedure
(pagetree->list pagetree) -> list?
  pagetree : pagetree?
procedure
(in-pagetree? pagenode [pagetree]) -> boolean?
  pagenode : pagenode?
  pagetree : pagetree? = (current-pagetree)
procedure
(path->pagenode p) -> pagenode?
  p : pathish?
procedure
(render source-path [template-path]) -> bytes?
  source-path : complete-path?
  template-path : (or/c #f complete-path?) = #f
procedure
(render-to-file  source-path       
                [template-path     
                 output-path]) -> void?
  source-path : complete-path?
  template-path : (or/c #f complete-path?) = #f
  output-path : (or/c #f complete-path?) = #f
procedure
(render-to-file-if-needed  source-path                 
                          [template-path               
                           output-path                 
                           #:force force-render?]) -> void?
  source-path : complete-path?
  template-path : (or/c #f complete-path?) = #f
  output-path : (or/c #f complete-path?) = #f
  force-render? : boolean? = #f
procedure
(render-batch source-paths ...) -> void?
  source-paths : (listof pathish?)
procedure
(render-pagetree pagetree) -> void?
  pagetree : pagetree?
(render-pagetree pagetree-source) -> void?
  pagetree-source : pathish?
procedure
(get-template-for source-path) -> (or/c #f complete-path?)
  source-path : complete-path?
procedure
(->html xexpr) -> string?
  xexpr : xexpr?
procedure
(select key value-source) -> (or/c #f txexpr-element?)
  key : symbolish?
  value-source : (or/c hash? txexpr? pagenode? pathish?)
procedure
(select* key value-source) -> (or/c #f (listof txexpr-element?))
  key : symbolish?
  value-source : (or/c hash? txexpr? pagenode? pathish?)
procedure
(select-from-metas key meta-source) -> (or/c #f txexpr-element?)
  key : symbolish?
  meta-source : (or/c hash? pagenodeish? pathish?)
procedure
(select-from-doc key doc-source) -> (or/c #f txexpr-element?)
  key : symbolish?
  doc-source : (or/c txexpr? pagenodeish? pathish?)
procedure
(make-tag-function id) -> (-> txexpr?)
  id : txexpr-tag?
syntax
(#%top . id)
syntax
(def/c id)
value
world:default-port : integer?
parameter
(world:current-server-port) -> integer?
(world:current-server-port port) -> void?
  port : integer?
value
world:main-pollen-export : symbol?
value
world:meta-pollen-export : symbol?
value
world:project-require : string?
parameter
(world:check-project-requires-in-render?) -> boolean?
(world:check-project-requires-in-render? check?) -> void?
  check? : boolean?
value
world:server-extras-dir : string?
parameter
(world:current-server-extras-path) -> path?
(world:current-server-extras-path dir) -> void?
  dir : path?
value
world:preproc-source-ext : symbol?
value
world:markup-source-ext : symbol?
value
world:markdown-source-ext : symbol?
value
world:null-source-ext : symbol?
value
world:pagetree-source-ext : symbol?
value
world:template-source-ext : symbol?
value
world:scribble-source-ext : symbol?
value
world:decodable-extensions : (listof symbol?)
value
world:mode-auto : symbol?
value
world:mode-preproc : symbol?
value
world:mode-markup : symbol?
value
world:mode-markdown : symbol?
value
world:mode-pagetree : symbol?
value
world:default-pagetree : string?
value
world:pagetree-root-node : symbol?
value
world:command-marker : char?
value
world:default-template-prefix : string?
value
world:fallback-template : string?
value
world:template-meta-key : symbol?
value
world:newline : string?
value
world:linebreak-separator : string?
value
world:paragraph-separator : string?
value
world:dashboard-css : string?
value
world:paths-excluded-from-dashboard : (listof path?)
